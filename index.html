<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weekly Assignments</title>
    <style>
      * {
        box-sizing: border-box;
      }

      h1 {
        margin-top: 0;
        font-weight: bold;
      }

      h1,
      p,
      h3,
      ::placeholder {
        color: rgb(177, 52, 93);
      }

      body,
      input,
      ::placeholder {
        font-family: "Courier New", Courier, monospace;
      }

      input {
        height: 40px;
      }

      .arrayItems {
        width: 69%;
        display: block;
        margin-bottom: 10px;
        border: 1px solid pink;
        padding-left: 10px;
      }

      .arrayItems2 {
        padding-left: 10px;
        border: 1px solid pink;
        width: 100%;
        margin-bottom: 10px;
      }

      .arrayItems3 {
        padding-left: 10px;
        border: 1px solid pink;
        margin-bottom: 10px;
      }

      .container {
        width: 640px;
        margin: 50px auto 0 auto;
        padding: 30px 20px;
        box-shadow: palevioletred 0px 22px 70px 4px;
      }

      .allResult {
        font-size: 26px;
        font-weight: bold;
        margin: 0 0 0 10px;
        color: palevioletred;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 style="text-align: center">BÀI TẬP TUẦN 3-7/4/2023</h1>
      <h3>
        1. Viết chương trình đầu vào 1 mảng và giá trị n. Đầu ra chương trình là
        1 mảng 2 chiều sao cho mỗi phần tử trong mảng 2 chiều là 1 mảng gồm n
        phần tử từ mảng đã cho.
      </h3>
      <input
        type="text"
        placeholder="Nhập Array, các phần tử cách nhau bằng dấu , : "
        id="arrInput"
        class="arrayItems"
        oninput="assignments1()"
        style="display: inline-block"
      />
      <input
        type="number"
        step="1"
        min="0"
        class="arrayItems3"
        placeholder="Nhập số N: "
        id="numN"
        oninput="assignments1()"
      />
      <br />
      <p style="display: inline-block">Kết quả:</p>
      <p
        style="display: inline-block; margin-left: 20px"
        id="resultAssign1"
        class="allResult"
      ></p>
      <h3>
        2. Viết chương trình đầu vào 4 mảng, đầu ra mảng có tổng các phần tử lớn
        nhất
      </h3>
      <input
        type="text"
        placeholder="Nhập Array, các phần tử cách nhau bằng dấu , : "
        id="arr1"
        class="arrayItems2"
        oninput="assignments2()"
      />
      <input
        type="text"
        placeholder="Nhập Array, các phần tử cách nhau bằng dấu , : "
        id="arr2"
        class="arrayItems2"
        oninput="assignments2()"
      />
      <input
        type="text"
        placeholder="Nhập Array, các phần tử cách nhau bằng dấu , : "
        id="arr3"
        class="arrayItems2"
        oninput="assignments2()"
      />
      <input
        type="text"
        placeholder="Nhập Array, các phần tử cách nhau bằng dấu , : "
        id="arr4"
        class="arrayItems2"
        oninput="assignments2()"
      />
      <p style="display: inline-block">Kết quả:</p>
      <p
        style="display: inline-block; margin-left: 20px"
        id="resultAssign2"
        class="allResult"
      ></p>
      <h3>3. Viết chương trình đảo ngược một chuỗi</h3>
      <input
        type="text"
        placeholder="Nhập String để đảo ngược : "
        id="stringReverse"
        class="arrayItems2"
        oninput="assignments3()"
      />
      <p style="display: inline-block">Kết quả:</p>
      <p
        style="display: inline-block; margin-left: 20px"
        id="resultAssign3"
        class="allResult"
      ></p>
      <h3>
        4. Viết chương trình kiểm tra xem một số có phải là số hoàn hảo hay
        không
      </h3>
      <input
        type="number"
        step="1"
        min="0"
        class="arrayItems3"
        placeholder="Nhập số dương bất kì: "
        id="perfNum"
        oninput="assignments4()"
      />
      <br />
      <p style="display: inline-block">Kết quả:</p>
      <p
        style="display: inline-block; margin-left: 20px"
        id="resultAssign4"
        class="allResult"
      ></p>
    </div>
  </body>
</html>

<script>
  function assignments1() {
    let arr1 = [];
    let arr = document.getElementById("arrInput").value;
    arr = arr.split(",");
    let numN = document.getElementById("numN").value;
    console.log(arr);
    arr1.push(arr.slice(0, numN));
    arr1 = arr1.concat(arr.slice(numN, arr.length));
    // console.log(arr1);
    document.getElementById("resultAssign1").innerHTML = JSON.stringify(arr1);
  }

  function assignments2() {
    let arr1 = document
      .getElementById("arr1")
      .value.split(",")
      .map(Number)
      .reduce((accumulator, value) => {
        return accumulator + value;
      }, 0);
    let arr2 = document
      .getElementById("arr2")
      .value.split(",")
      .map(Number)
      .reduce((accumulator, value) => {
        return accumulator + value;
      }, 0);
    let arr3 = document
      .getElementById("arr3")
      .value.split(",")
      .map(Number)
      .reduce((accumulator, value) => {
        return accumulator + value;
      }, 0);
    let arr4 = document
      .getElementById("arr4")
      .value.split(",")
      .map(Number)
      .reduce((accumulator, value) => {
        return accumulator + value;
      }, 0);
    if (isNaN(arr1) || isNaN(arr2) || isNaN(arr3) || isNaN(arr4)) {
      document.getElementById("resultAssign2").innerHTML =
        "Dữ liệu đầu vào không chính xác!";
    } else if (arr1 > arr2 && arr1 > arr3 && arr1 > arr4) {
      document.getElementById(
        "resultAssign2"
      ).innerHTML = `Array 1 với tổng ${arr1} lớn nhất!`;
    } else if (arr2 > arr1 && arr2 > arr3 && arr2 > arr4) {
      document.getElementById(
        "resultAssign2"
      ).innerHTML = `Array 2 với tổng ${arr2} lớn nhất!`;
    } else if (arr3 > arr1 && arr3 > arr2 && arr3 > arr4) {
      document.getElementById(
        "resultAssign2"
      ).innerHTML = `Array 3 với tổng ${arr3} lớn nhất!`;
    } else if (arr4 > arr1 && arr4 > arr2 && arr4 > arr3) {
      document.getElementById(
        "resultAssign2"
      ).innerHTML = `Array 4 với tổng ${arr4} lớn nhất!`;
    }
  }

  function assignments3() {
    let str = document.getElementById("stringReverse").value.split("");
    document.getElementById("resultAssign3").innerHTML = str.reverse().join("");
  }

  function assignments4() {
    let sum = 0;
    let num = +document.getElementById("perfNum").value;
    if (num <= 0) {
      document.getElementById("resultAssign4").innerHTML =
        "Nhập lại số dương để bắt đầu chương trình!";
    } else {
      for (let i = 0; i < num; i++) {
        if (num % i === 0) {
          sum += i;
        }
      }
      if (sum === num) {
        document.getElementById(
          "resultAssign4"
        ).innerHTML = `Số đã nhập ${num} là số hoàn hảo!`;
      } else {
        document.getElementById(
          "resultAssign4"
        ).innerHTML = `Số đã nhập ${num} không phải là số hoàn hảo!`;
      }
    }
  }

  // 1. Viết chương trình đầu vào 1 mảng và giá trị n. Đầu ra chương trình là 1 mảng 2 chiều sao cho mỗi phần tử trong mảng 2 chiều là 1 mảng gồm n phần tử từ mảng đã cho.
  // Ví dụ: arr = [1,2,3,4,5]
  // n = 2: output = [ [1,2], [3,4], [5] ]
  // n = 3: output = [ [1,2,3], [4,5] ]
  // n = 4: output = [ [1,2,3,4], [5] ]
  // 2. Viết chương trình đầu vào 4 mảng, đầu ra mảng có tổng các phần tử lớn nhất
  // 3. Viết chương trình đảo ngược một chuỗi
  // 4. Viết chương trình kiểm tra xem một số có phải là số hoàn hảo hay không. Một số hoàn hảo là số có tổng các ước số bằng chính nó.
</script>
